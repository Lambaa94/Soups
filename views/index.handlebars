<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1 class="display-4">SLURP DA SOUP</h1>
    <p class="lead">ADD A SOUP</p>
    <form id="addSoupForm" class="button-size">
      <input id="soupText" type="text" name="soup"></input>
      <button type="submit" class="btn btn-primary m-3">Save Soup!</button>
    </form>
  </div>
</div>


<div class="container">
  <div class="row">
    <div class="col-6">
      <h3>SOUP TO SLURP</h3>
      <ol>
        {{#each soups}}
        {{#unless slurped}}
        <li>{{ soup_name }}
          <button data-id="{{id}}" class="slurpSoupBtn btn btn-primary">SLURP IT</button>
        </li>
        {{/unless}}
        {{/each}}
      </ol>
    </div>

    <div class="col-6">
      <h3>SLURPED SOUP</h3>
      <ol>
        {{#each soups}}
        {{#if slurped}}
        <li>{{ soup_name }}
          {{!-- <button data-id="{{id}}" class="deletebtn">DELETE IT</button> --}}
        </li>
        {{/if}}
        {{/each}}
      </ol>
    </div>
  </div>
</div>


















<script type="text/javascript">

  $(document).ready(function () {
    // POST/ADD
    $("#addSoupForm").on("submit", function (event) {
      event.preventDefault();

      const newSoup = {
        soup_name: $("#soupText").val().trim()
      }

      //SEND POST
      $.ajax("/api/soups", {
        method: "POST",
        data: newSoup
      }).then(function () {
        console.log("Soup added successfully!");

        window.location = "/";
      });
    });

    // PUT/UPDATE
    $(".slurpSoupBtn").on("click", function (event) {
      event.preventDefault();

      const soupId = $(this).data("id");
      console.log(soupId, "Here is the")

      $.ajax("/api/soups/" + soupId, {
        method: "PUT",
        data: {
          slurped: 1
        }
      }).then(function () {
        console.log("The Soup has been slurped!");

        window.location = "/";
      });
    })
  });
</script>